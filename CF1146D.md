## 1 CF1146D é’è›™è·³
- é¢˜ç›®é“¾æ¥ï¼šhttps://codeforces.com/problemset/problem/1146/d

## 2 é¢˜ç›®æè¿°
æ—¶é—´é™åˆ¶ $2s$   |   ç©ºé—´é™åˆ¶ $256M$

ä¸€åªé’è›™å¼€å§‹çš„ä½ç½®åœ¨æ•°æ®çº¿çš„ $0$ ä½ç½®ï¼Œé’è›™æœ‰ä¸¤ä¸ªé­”æ³•æ­£æ•´æ•° $a$ å’Œ $b$ã€‚ä»ä½ç½® $k$ èµ·è·³ï¼Œé’è›™å¯ä»¥è·³åˆ°ä½ç½® $k+a$ æˆ–è€… $k-b$ã€‚åœ¨åŒºé—´ $[0,x]$ å†…è®¾ $f(x)$ æ˜¯é’è›™å¯ä»¥åˆ°è¾¾çš„ä¸åŒæ•´æ•°ã€‚é’è›™ä¸éœ€è¦åœ¨ä¸€æ¬¡æ—…è¡Œä¸­è®¿é—®æ‰€æœ‰çš„æ•´æ•°ç‚¹ï¼Œä¹Ÿå°±æ˜¯å¦‚æœé’è›™ä» $0$ å¼€å§‹å¯ä»¥åˆ°è¾¾ä¸€ä¸ªæ•´æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•´æ•°ç®—æœ‰æ•ˆã€‚å¯¹äºç»™å®šçš„æ•´æ•° $m$ï¼Œæ‰¾å‡º $i$ ä» $0$ åˆ° $m$ çš„æ‰€æœ‰ $f(i)$ çš„ç´¯åŠ å’Œã€‚

æ•°æ®èŒƒå›´ï¼š$1â‰¤ğ‘šâ‰¤10^9,1â‰¤ğ‘,ğ‘â‰¤10^5$

## 3 é¢˜è§£
æˆ‘ä»¬å‘ç°ï¼šæ¯ä¸€ä¸ªæˆ‘ä»¬åˆ°è¾¾çš„æ•°ä¸€å®šæ˜¯ $\gcd(a, b)$ çš„å€æ•°ï¼Œè¿™æ˜¯ç”±äºè£´èœ€å®šç†ï¼š$ax + by = k$ æ—¶ $k$ ä¸€å®šä¸º $\gcd(a, b)$ çš„å€æ•°ã€‚ä½†æ˜¯æˆ‘ä»¬ç›´æ¥ç»Ÿè®¡ $gcd(a, b)$ çš„å¯èƒ½ä¸ªæ•°åˆä¼šé”™ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬åˆ°è¾¾å½“å‰ä½ç½®çš„è·¯ä¸Šå¯èƒ½ä¼šè¶…è¿‡ $i$ è¿™ä¸ªé™åˆ¶ï¼Œè€Œè¿™ç§æƒ…å†µæ˜¯ä¸è¢«å…è®¸çš„ã€‚ä½†æ˜¯å¦‚æœ $i > a + b - 1$ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç¡®ä¿æ‰€æœ‰çš„ $gcd(a, b)$ çš„å€æ•°çš„ä½ç½®å¯ä»¥è¢«æ‹¼å‡‘å‡ºæ¥ã€‚

æˆ‘ä»¬å¯ä»¥å°†è¦å‡çš„ $-y$ æ¬¡ $b$ å…ˆç»Ÿä¸€å‡å»ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡å¯ä»¥å¾€å·¦è·³ $b$ å°±è·³ã€‚åœ¨è·³å®Œ $-y$ æ¬¡åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸åœå¢åŠ  $a$ æ¥åˆ°è¾¾ç›®æ ‡äº†ã€‚è¿™é‡Œæˆ‘ä»¬æœ€å·®æƒ…å†µä¸‹æ˜¯åœ¨ $b-1$ çš„ä½ç½®å¾€å³è·³ $a$ï¼Œæ­¤æ—¶æˆ‘ä»¬åˆ°è¾¾çš„ä½ç½®å°±æ˜¯ $a+b-1$ã€‚å¦‚æœæˆ‘ä»¬å¯ä»¥æ»¡è¶³è¿™ç§æç«¯æƒ…å†µï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸€å®šå¯ä»¥æ„é€ å‡ºæ‰€æœ‰ $gcd(a, b)$ çš„å€æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ $i > a+b-1$ï¼Œ $f(i) = \lfloor \dfrac{i}{\gcd(a, b)} \rfloor + 1$ã€‚æ­¤æ—¶åªéœ€è¦ç”¨ç­‰å·®æ•°åˆ—ç»´æŠ¤å³å¯ã€‚å¯¹äº $\le a+b-1$ çš„ $i$ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ $dijkstra$ æˆ–è€… $SPFA$ æš´åŠ›è®¡ç®—ã€‚

## 4 ä»£ç ï¼ˆç©ºæ ¼è­¦å‘Šï¼‰ï¼šÂ·

```c++
#include <iostream>
#include <queue>
#include <cmath>
#include <cstring>
using namespace std;
const int N = 2e5+10;
typedef long long ll;
#define int long long
int m, a, b, ans, fl, cel;
priority_queue< pair<int, int> > q;
int h[N];
int gcd(int x, int y)
{
    if (y == 0) return x;
    return gcd(y, x%y);
}
signed main()
{
    cin >> m >> a >> b;
    memset(h, 0x3f, sizeof(h));
    h[0] = 0;
    q.push(make_pair(0, 0));
    while (q.size())
    {
        pair<int, int> cur;
        cur = q.top();
        q.pop();
        if (-cur.first > h[cur.second]) continue;
        if (cur.second > b && h[cur.second - b] > h[cur.second])
        {
            h[cur.second - b] = h[cur.second];
            q.push(make_pair(-h[cur.second - b], cur.second - b));
        }
        if (cur.second <= b-1 && h[cur.second + a] > max(h[cur.second], cur.second + a))
        {
            h[cur.second + a] = max(h[cur.second], cur.second + a);
            q.push(make_pair(-h[cur.second + a], cur.second + a));
        }
    }
    for (int i = 0; i <= min(m, a+b-1); i++) ans += max(0ll, m - h[i] + 1);
    if (m >= a+b)
    {
        fl = ceil((a+b) / gcd(a, b));
        cel = m / gcd(a, b);
        if (fl <= cel)
        {
            ans += (m + 1) * (cel - fl + 1) - gcd(a, b) * ((fl + cel) * (cel - fl + 1) / 2);
        }
    }
    cout << ans;
    return 0;
}
```

## æ¬¢è¿å…³æ³¨

